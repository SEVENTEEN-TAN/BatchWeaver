spring:
  datasource:
    # DB1: Spring Batch 元数据 + 业务数据（主数据源）
    db1:
      jdbc-url: jdbc:sqlserver://localhost:1433;databaseName=BatchWeaverDB;encrypt=true;trustServerCertificate=true
      username: sa
      password: YourPassword123
      driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver
      hikari:
        maximum-pool-size: 15
        minimum-idle: 5
        connection-timeout: 30000
        idle-timeout: 600000
        max-lifetime: 1800000
        pool-name: HikariPool-DB1

    # DB2: 业务数据库 2
    db2:
      jdbc-url: jdbc:sqlserver://localhost:1433;databaseName=DB2_Business;encrypt=true;trustServerCertificate=true
      username: sa
      password: YourPassword123
      driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver
      hikari:
        maximum-pool-size: 10
        minimum-idle: 3
        connection-timeout: 30000
        pool-name: HikariPool-DB2

    # DB3: 业务数据库 3
    db3:
      jdbc-url: jdbc:sqlserver://localhost:1433;databaseName=DB3_Business;encrypt=true;trustServerCertificate=true
      username: sa
      password: YourPassword123
      driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver
      hikari:
        maximum-pool-size: 10
        minimum-idle: 3
        connection-timeout: 30000
        pool-name: HikariPool-DB3

    # DB4: 业务数据库 4
    db4:
      jdbc-url: jdbc:sqlserver://localhost:1433;databaseName=DB4_Business;encrypt=true;trustServerCertificate=true
      username: sa
      password: YourPassword123
      driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver
      hikari:
        maximum-pool-size: 10
        minimum-idle: 3
        connection-timeout: 30000
        pool-name: HikariPool-DB4

  # Spring Batch 配置
  batch:
    jdbc:
      initialize-schema: always
      table-prefix: BATCH_
    job:
      enabled: false

# 日志配置
logging:
  level:
    root: INFO
    org.springframework.batch: DEBUG
    org.springframework.jdbc: DEBUG
    com.batchweaver: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# 批处理配置
batch:
  chunk-size: 100
  file:
    base-path: /data/batch/files
    allowed-extensions: txt,csv,dat
